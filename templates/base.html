<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Ma App Django{% endblock %}</title>
    <!-- Bootstrap CDN pour styling rapide -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <!-- Font Awesome pour icônes -->
    <link
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.6.0/css/all.min.css"
      rel="stylesheet"
    />

    <!-- Google Fonts : Poppins pour un style moderne -->
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;700&display=swap"
      rel="stylesheet"
    />
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/style.css' %}" />
  </head>
  <body>
    <!-- Barre de navigation unique -->
    <nav
      class="navbar sticky-top navbar-expand-lg navbar-light navbar-icon-top"
      style="background-color: #e3f2fd"
    >
      <div class="container-fluid mx-5">
        <a href="{% url 'home' %}" class="navbar-brand">
          <img
            src="{% static 'images/transparent-logo1.png' %}"
            alt="Ma Conf App"
            class="img-fluid w-1/5"
          />
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav me-auto">
            <li class="nav-item">
              <a class="nav-link" href="{% url 'home' %}"
                ><i class="fa fa-home"></i> Home</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'conference_list_view' %}"
                ><i class="fa fa-calendar"></i> Conférences</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="#"
                ><i class="fa fa-user"></i> Mes Conférences</a
              >
            </li>
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" data-bs-toggle="dropdown"
                ><i class="fa fa-envelope"></i> Messages</a
              >
              <div class="dropdown-menu">
                <a href="#" class="dropdown-item">Inbox</a>
                <a href="#" class="dropdown-item">Sent</a>
                <a href="#" class="dropdown-item">Drafts</a>
              </div>
            </li>
          </ul>
          <ul class="navbar-nav ms-auto">
            <form class="d-flex me-3 my-3">
              <input
                type="text"
                class="form-control me-2"
                placeholder="Search"
              />
              <button type="submit" class="btn btn-outline-primary">
                Search
              </button>
            </form>
            {% if user.is_authenticated %}
             <li class="nav-item">
              <span class="nav-link"><i class="fa fa-user-circle"></i> {{ user.username }} <br> {{ user.get_role_display }}</span
              >
            </li>
            <li class="nav-item">
              <form
                method="post"
                action="{% url 'logout' %}"
                style="display: inline"
              >
                {% csrf_token %}
                <button
                  type="submit"
                  class="nav-link btn btn-link p-0 border-0"
                >
                  <i class="fa fa-sign-out"></i> Déconnexion
                </button>
              </form>
            </li>
            {% else %}
            <li class="nav-item">
              <a class="nav-link" href="{% url 'login' %}"
                ><i class="fa fa-sign-in"></i> Connexion</a
              >
            </li>
            <li class="nav-item">
              <a class="nav-link" href="{% url 'inscription' %}"
                ><i class="fa fa-sign-in"></i> S'inscrire</a
              >
            </li>
            {% endif %}
          </ul>
        </div>
      </div>
    </nav>

    <!-- Contenu dynamique : bloc à overrider dans les enfants -->
    <!-- Contenu dynamique avec carte personnalisée -->
    <div class="container">
      <div class="content-card">
        {% block content %}
        <!-- Contenu spécifique des pages enfants -->
        {% endblock %}
      </div>
    </div>

    <!-- Footer personnalisé -->
    <footer class="text-center">
      <div class="container">
        <p>&copy; 2025 Ma Conf App - Gestion de Conférences</p>
        <p>
          <a href="#"><i class="fab fa-twitter"></i> Twitter</a> |
          <a href="#"><i class="fab fa-github"></i> GitHub</a> |
          <a href="#">Contact</a>
        </p>
      </div>
    </footer>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  </body>
</html>